<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DebieCar Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <style>
        /* ======= Your existing CSS from index.html ======= */
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:"Segoe UI",sans-serif; background-color:#1a1a1d; color:#f3e8ff; min-height:100vh; }
        a { color: inherit; text-decoration: none; }
        .header { background-color:#2c2c34; border-bottom:1px solid #3a3a44; padding:1rem 2rem; display:flex; justify-content:space-between; align-items:center; }
        .logo-text h1 { font-size:1.5rem; font-weight:700; color:#c084fc; }
        .logo-text p { font-size:0.9rem; color:#a78bfa; margin-top:-2px; }
        .main-container { max-width:1200px; margin:2rem auto; padding:0 1rem; }
        .table-container { background:#2c2c34; border-radius:15px; border:1px solid #3a3a44; overflow:hidden; }
        .table-header { padding:1.5rem 2rem; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #3a3a44; }
        .table-title { font-size:1.5rem; font-weight:700; color:#c084fc; }
        .btn { display:inline-flex; align-items:center; gap:0.5rem; padding:0.6rem 1.2rem; border-radius:10px; font-weight:600; font-size:1rem; background:linear-gradient(135deg,#7e22ce,#9333ea); color:white; border:none; cursor:pointer; transition:0.3s; }
        .btn:hover { background:linear-gradient(135deg,#9333ea,#a855f7); transform:scale(1.05); }
        .table-wrapper { overflow-x:auto; }
        table { width:100%; border-collapse:collapse; color:#f3e8ff; }
        th, td { padding:1rem 1.5rem; border-bottom:1px solid #3a3a44; text-align:left; }
        th { background:#3a3a44; font-weight:600; font-size:0.875rem; text-transform:uppercase; color:#c084fc; }
        tr:hover { background:#4b4b57; }
        .vehicle-info { display:flex; align-items:center; gap:1rem; }
        .vehicle-avatar { width:48px; height:48px; border-radius:12px; background:linear-gradient(135deg,#7e22ce,#9333ea); display:flex; justify-content:center; align-items:center; font-weight:700; font-size:1rem; color:#f3e8ff; }
        .vehicle-details h4 { font-weight:700; color:#e0bbff; margin-bottom:4px; }
        .vehicle-details p { font-size:0.875rem; color:#bbaaff; }
        .actions { display:flex; gap:0.5rem; }
        .btn-secondary { background:#4b4b57; color:#cbb5f9; border:1px solid #7e22ce; }
        .btn-secondary:hover { background:#6d4bd7; color:white; }
        .btn-danger { background:#7e2215; color:#f8c9c1; border:1px solid #b03025; }
        .btn-danger:hover { background:#a32e20; color:white; }
        @media (max-width:768px) { .table-header { flex-direction:column; gap:1rem; align-items:stretch; } }
    </style>
</head>
<body>

<header class="header">
    <div class="logo-text">
        <h1>DebieCar Dashboard</h1>
        <p>Welcome, <span th:text="${username}">User</span></p>
    </div>
    <div>
        <a th:href="@{/logout}" class="btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>
</header>

<main class="main-container">

    <!-- Stats Cards -->
    <div class="table-container">
        <div class="table-header">
            <h2 class="table-title">Car Inventory</h2>
            <a th:href="@{/create}" class="btn"><i class="fas fa-plus"></i> Add New Vehicle</a>
        </div>

        <div class="table-wrapper" th:if="${not #lists.isEmpty(recentCars)}">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Vehicle</th>
                    <th>Year</th>
                    <th>Body Type</th>
                    <th>Engine Type</th>
                    <th>License Plate</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="car : ${recentCars}">
                    <td th:text="${car.id}">1</td>
                    <td>
                        <div class="vehicle-info">
                            <div class="vehicle-avatar" th:text="${#strings.substring(car.make,0,1) + #strings.substring(car.model,0,1)}">TM</div>
                            <div class="vehicle-details">
                                <h4 th:text="${car.make + ' ' + car.model}">Toyota Camry</h4>
                                <p th:text="${car.color}">White</p>
                            </div>
                        </div>
                    </td>
                    <td th:text="${car.year}">2023</td>
                    <td th:text="${car.bodyType}">Sedan</td>
                    <td th:text="${car.engineType}">Hybrid</td>
                    <td th:text="${car.licensePlate}">ABC-1234</td>
                    <td class="actions">
                        <a th:href="@{/edit/{id}(id=${car.id})}" class="btn-secondary btn btn-sm"><i class="fas fa-edit"></i></a>
                        <a th:href="@{/delete/{id}(id=${car.id})}" class="btn-danger btn btn-sm" onclick="return confirm('Are you sure?')"><i class="fas fa-trash"></i></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper" th:if="${#lists.isEmpty(recentCars)}">
            <p style="padding:1rem; color:#bbaaff;">No cars available.</p>
        </div>
    </div>

</main>
</body>
</html>
